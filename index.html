<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<meta charset="UTF-8">
<meta http-equiv="content-type"
	content="application/xhtml+xml; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Basil Omsha">
<meta name="description"
	content="This is the login page for Cool Finland Office">
<title>Cool Finland (Office) - log in</title>
<!--Link to bootstrap.-->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

<!-- <link rel="icon" type="img/svg" href="./images/favicon.svg"> -->
<!--Link to local css files.-->
<link rel="stylesheet" type="text/css" href="./css/index-style.css">
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-lg bg-light">
			<div class="form-check form-switch form-check-reverse">
				<!-- <input class="form-check-input" type="checkbox"
					id="flexSwitchCheckReverse"
					onclick="darkMode()"> -->
				<input class="form-check-input" type="checkbox"
					id="flexSwitchCheckReverse"
					onclick="window.location.href='./html/indexDarkMode.html'">
				<label class="form-check-label" for="flexSwitchCheckReverse"><img
					alt="Light Mode" src="./images/goldenSun.png"></label>
			</div>
			<!-- 			<div class="hidden-message">I am shown when someone hovers over the div above.</div> -->
		</nav>
	</header>
	<main>
		<div class="container">
			<!-- TITLE -->

			<!-- FORM -->
			<div>
				<div class="Login-container">
					<!-- <form id="login-form"> -->
					<form id='userForm'>
						<label for="email"></label> <input class="input-container"
							type="text" placeholder="Enter Email" name="email" required><br>
						<label for="paswd"></label> <input class="input-container"
							type="password" placeholder="Enter Password"
							autocomplete="current-password" id="paswd" name="paswd"
							required>
						<input class="login-button" value="Log In" type="button" name='submit' onclick='sendInfo(this.form);'>
						<!-- <input class="login-button" type="button" value="Log in"
							onclick="loginAjax(this.form);"> -->
					</form>
					<a class="form-forgot-password" href="#">Forgot password?</a>

				</div>
	
			</div>
			<p id='result'></p>
		</div>
	</main>
	<svg style="background-color: #ffffff;" width="100%" height="70"
		viewbox="0 0 100 100" preserveAspectRatio="none">
  	<path id="wavepath" d="M0,0  L100,0C70,180 39,20 0,100z"
			fill="#f0f2f5"></svg>
	<footer class="py-3 my-4">
		<ul class="nav justify-content-center pb-3 mb-3">
			<li class="nav-item"><a href="index.html"
				class="nav-link px-2 text-muted">Home</a></li>
		</ul>
		<p class="text-center text-muted">&copy; 2022 Team1, Cool Finland
			#Design Factory HAMK</p>
	</footer>
	<script>
		function sendInfo(form){
				var user=new Object();
				user.email=form.email.value;
				user.paswd=form.paswd.value;
				var jsonUser=JSON.stringify(user);
						
				xmlhttp = new XMLHttpRequest();
				xmlhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {
						if (this.responseText=="ok"){
							window.location.assign("../php/searchBydate.php");
						}
						else{
							document.getElementById("result").innerHTML = this.responseText;
						}
					}
				};
			xmlhttp.open("POST", "../php/login.php", true);
			xmlhttp.setRequestHeader("Content-type", 
			"application/x-www-form-urlencoded");
			xmlhttp.send("user=" + jsonUser);	
		}	
	</script>
</body>
</html>